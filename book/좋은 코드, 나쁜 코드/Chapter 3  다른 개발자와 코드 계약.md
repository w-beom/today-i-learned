# Chapter 3. 다른 개발자와 코드 계약

소프트웨어 개발은 대개 팀 단위로 이루어지며, 다른 개발자가 작성한 코드와 상호작용하고 유지보수하는 경우가 많다. 이를 위해 예측 가능하고 오용하기 어려운 코드를 작성해야 한다.

이 장에서는 다른 개발자에게 코드의 중요한 세부사항을 전달하기 위한 기법과 코드 계약 및 숨겨진 세부 조항의 개념에 대해 논의하며, 오용과 오해를 쉽게 유발하는 코드의 실제 사례를 살펴보고 개선하는 방법을 논의한다. 이후 6장과 7장에서는 더 구체적인 사례를 다룬다.

## 3.1 자신의 코드와 다른 개발자의 코드

코드를 작성하는 것은 팀 단위로 이루어지며, 다른 개발자들의 코드 위에 또 다른 계층을 쌓아가는 과정이다.

코드를 잘 추상화하고 하위 문제들을 해결하는 코드를 작성하면, 다른 개발자들도 해당 코드를 재사용할 수 있다. 또한 요구 사항이 항상 변하기 때문에 코드와 소프트웨어도 항상 변한다.

코드베이스에 계속해서 수정을 가하면 활동이 활발하게 일어나는 코드베이스가 되며, 이 때는 코드를 무분별하게 수정하면 코드가 깨질 수 있으므로 코드를 부서지기 쉬운 물건처럼 다루어야 한다.

### 3.1.1 자신에게 분명하다고 해서 다른 사람에게도 분명한 것은 아니다

개발자는 코드 작성에 많은 시간을 투자하며, 여러 가지 고민과 단계를 거쳐 완성한다. 그러나 이 과정에서 너무 익숙해져 자신이 작성한 코드가 분명하게 보일 수 있다. 하지만 다른 개발자들이 이 코드를 사용하거나 변경할 때, 그들은 문제를 충분히 이해하지 못했을 수 있다.

따라서 코드를 작성할 때, 언제든지 다른 개발자들이 코드를 이해하고 사용할 수 있도록 주석이나 코드 자체로 코드를 명확하게 설명하는 것이 중요하다. 이것은 코드가 어떻게 사용되어야 하는지, 무엇을 하는지, 그리고 왜 그 일을 하고 있는지를 이해할 수 있도록 도와준다.

좋은 코드는 자체적으로 명확하게 설명되도록 작성되어야 하며, 이것이 주석을 많이 작성해야 한다는 의미는 아니다.

### 3.1.2 다른 개발자는 무의식중에 여러분의 코드를 망가뜨릴 수 있다.

다른 개발자가 여러분의 코드를 망가뜨릴 수 있다는 가정은 냉소적으로 보일 수 있지만, 실제로는 다른 코드에 의존하기 때문에 그렇다. 또한 회사 내에서 다른 개발자들이 여러분이 작성한 코드에 대한 사전 지식을 가지고 있지 않을 수 있기 때문에 코드가 오용될 가능성이 크다.

이러한 문제를 해결하기 위해 코드 병합 시에 코드 컴파일이 중지되거나 테스트가 실패하도록 만들어야 한다. 이것이 고품질 코드를 작성하는 데 필요한 많은 고려 사항 중 하나이다.

### 3.1.3 시간이 지나면 자신의 코드를 기억하지 못한다.

코드를 작성할 때는 다른 개발자들이 그 코드를 이해하고 사용할 수 있도록 코드의 추상화와 설명이 필요하다. 또한 코드는 끊임없이 변화하므로 코드가 작동하지 않거나 오용하는 결과를 가져올 수 있는 경우가 있다.

따라서 코드를 작성할 때는 다른 개발자들이 이해하기 쉽고, 문제가 생겼을 때 코드 컴파일이 중지되거나 테스트가 실패하도록 만들어야 한다. 코드의 세부 사항이 시간이 지나면서 잊혀질 수 있기 때문에, 코드는 미래의 자신과 다른 개발자들이 이해하기 쉽도록 추상화와 설명이 필요하다.

## 3.2 여러분이 작성한 코드의 사용법을 다른 사람들은 어떻게 아는가?

다른 개발자가 여러분의 코드를 사용하거나 수정할 때, 그들은 여러분의 코드를 어떻게 사용해야 하는지, 그 코드가 무슨 일을 하는지, 어떤 값을 인수로 사용해야 하는지, 코드가 수행하는 동작이 무엇인지, 어떤 값을 반환하는지 등을 이해해야 한다.

이러한 이유로 미래의 자신도 다른 개발자처럼 자신이 작성한 코드를 이해할 수 있도록 작성해야 한다. 다른 개발자가 코드를 이해하는 방법으로는 함수, 클래스, 열거형 등의 이름을 살펴보는 것, 함수와 생성자의 매개변수 및 반환값의 데이터 유형을 확인하는 것, 함수/클래스 수준의 문서나 주석문을 읽는 것 등이 있다. 그러나 이름과 데이터 유형을 확인하는 것이 가장 신뢰할 만하다.

### 3.2.1 이름확인

자신의 코드를 다른 개발자가 어떻게 사용해야 하는지에 대해 가장 잘 전달할 수 있는 방법중 하나는 이름을 잘 짓는 것이다.

### 3.2.2 데이터 유형 확인

컴파일이 필요한 정적 유형의 언어에서는 데이터 유형을 인식하고 올바르게 사용해야 한다. 그렇지 않으면 코드가 컴파일되지 않는다.

따라서 유형 시스템을 사용하는 언어로 코드를 작성하는 것은 다른 개발자가 코드를 오용하거나 오작동할 수 없도록 하기 위한 좋은 방법 중 하나다.
